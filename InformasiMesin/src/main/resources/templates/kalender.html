<!DOCTYPE html>
<html
  lang="id"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout}"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalender Pemeliharaan</title>

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.0/main.min.css"
    />
    <link rel="stylesheet" th:href="@{/css/kalender.css}" />

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.0/main.min.js"></script>
    <script th:src="@{/js/kalender.js}"></script>
  </head>
  <body>
    <div layout:fragment="content">
      <section class="card fade-in">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
          "
        >
          <h2>Kalender Pemeliharaan</h2>
          <button id="print-report" class="btn btn-save btn-report">
            Cetak Laporan Bulanan
          </button>
        </div>

        <div id="calendar-container">
          <div id="calendar"></div>
        </div>
      </section>

      <!-- Modal untuk Reschedule -->
      <div class="modal-overlay" id="event-modal-overlay">
        <div class="modal" id="event-modal">
          <div class="modal-header">
            <h3>Reschedule Preventive Maintenance</h3>
            <button type="button" class="close-btn" id="close-modal">
              &times;
            </button>
          </div>

          <!-- Form untuk Reschedule -->
          <form id="reschedule-form">
            <div class="input-group">
              <label for="reschedule-entity-number">Nomor Entitas</label>
              <select id="reschedule-entity-number" required>
                <option value="">Pilih Nomor Entitas</option>
                <!-- Opsi akan diisi oleh JavaScript -->
              </select>
            </div>

            <div class="input-group">
              <label for="reschedule-entity-name">Nama Entitas</label>
              <input
                id="reschedule-entity-name"
                type="text"
                readonly
                required
              />
              <input type="hidden" id="reschedule-mesin-id" />
            </div>

            <div class="input-group">
              <label>Jadwal Asli:</label>
              <div
                id="reschedule-original-date"
                class="original-schedule-display"
              >
                -
              </div>
            </div>

            <div class="input-group">
              <label for="reschedule-reason">Alasan Reschedule</label>
              <textarea
                id="reschedule-reason"
                placeholder="Masukkan alasan reschedule..."
                required
              ></textarea>
            </div>

            <div class="input-group">
              <label for="reschedule-maintenance-type"
                >Jenis Pemeliharaan</label
              >
              <input
                type="text"
                id="reschedule-maintenance-type"
                placeholder="Masukkan jenis pemeliharaan..."
                required
              />
            </div>

            <div class="input-group">
              <label for="reschedule-technician">Teknisi</label>
              <input
                type="text"
                id="reschedule-technician"
                placeholder="Masukkan nama teknisi..."
                required
              />
            </div>

            <button type="button" id="save-event" class="btn btn-save">
              Simpan
            </button>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
